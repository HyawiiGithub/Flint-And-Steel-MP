#---------------------------------------
# Napoleon’s Legal Legacy (France)
#---------------------------------------
je_napoleon_code = {
    icon  = "gfx/interface/icons/law_icons/tenant_farmers.dds"
    group = je_group_france

    is_shown_when_inactive = { tag = c:FRA }
    possible               = { tag = c:FRA }

    on_start = {
        # cleanup
        remove_country_modifier = modifier_Legacy_of_the_Code_Napoléon1
        remove_country_modifier = modifier_Legacy_of_the_Code_Napoléon2
        remove_country_modifier = modifier_Legacy_of_the_Code_Napoléon3
        remove_country_modifier = modifier_Legacy_of_the_Code_Napoléon4
        remove_country_modifier = modifier_Legacy_of_the_Code_Napoléon5
        remove_country_modifier = modifier_Legacy_of_the_Code_Napoléon6
        remove_country_modifier = modifier_Legacy_of_the_Code_Napoléon7
        remove_country_modifier = modifier_Legacy_of_the_Code_Napoléon8
        remove_country_modifier = modifier_Legacy_of_the_Code_Napoléon9
        remove_country_modifier = modifier_Legacy_of_the_Code_Napoléon10

        # stage 1
        add_country_modifier = { name = modifier_Legacy_of_the_Code_Napoléon1 months = -1 }

        # counters
        set_variable = { name = napoleon_stage value = 1 }
        set_variable = { name = napoleon_years value = 0 }
    }

    on_yearly_pulse = {
        effect = {
            # count years
            change_variable = { name = napoleon_years add = 1 }

            # advance only every 10 years
            if = {
                limit = { check_variable = { name = napoleon_years value = 10 } }
                set_variable = { name = napoleon_years value = 0 }
                change_variable = { name = napoleon_stage add = 1 }

                if = {
                    limit = { check_variable = { name = napoleon_stage value = 2 } }
                    remove_country_modifier = modifier_Legacy_of_the_Code_Napoléon1
                    add_country_modifier    = { name = modifier_Legacy_of_the_Code_Napoléon2 months = -1 }
                }
                else_if = {
                    limit = { check_variable = { name = napoleon_stage value = 3 } }
                    remove_country_modifier = modifier_Legacy_of_the_Code_Napoléon2
                    add_country_modifier    = { name = modifier_Legacy_of_the_Code_Napoléon3 months = -1 }
                }
                else_if = {
                    limit = { check_variable = { name = napoleon_stage value = 4 } }
                    remove_country_modifier = modifier_Legacy_of_the_Code_Napoléon3
                    add_country_modifier    = { name = modifier_Legacy_of_the_Code_Napoléon4 months = -1 }
                }
                else_if = {
                    limit = { check_variable = { name = napoleon_stage value = 5 } }
                    remove_country_modifier = modifier_Legacy_of_the_Code_Napoléon4
                    add_country_modifier    = { name = modifier_Legacy_of_the_Code_Napoléon5 months = -1 }
                }
                else_if = {
                    limit = { check_variable = { name = napoleon_stage value = 6 } }
                    remove_country_modifier = modifier_Legacy_of_the_Code_Napoléon5
                    add_country_modifier    = { name = modifier_Legacy_of_the_Code_Napoléon6 months = -1 }
                }
                else_if = {
                    limit = { check_variable = { name = napoleon_stage value = 7 } }
                    remove_country_modifier = modifier_Legacy_of_the_Code_Napoléon6
                    add_country_modifier    = { name = modifier_Legacy_of_the_Code_Napoléon7 months = -1 }
                }
                else_if = {
                    limit = { check_variable = { name = napoleon_stage value = 8 } }
                    remove_country_modifier = modifier_Legacy_of_the_Code_Napoléon7
                    add_country_modifier    = { name = modifier_Legacy_of_the_Code_Napoléon8 months = -1 }
                }
                else_if = {
                    limit = { check_variable = { name = napoleon_stage value = 9 } }
                    remove_country_modifier = modifier_Legacy_of_the_Code_Napoléon8
                    add_country_modifier    = { name = modifier_Legacy_of_the_Code_Napoléon9 months = -1 }
                }
                else_if = {
                    limit = { check_variable = { name = napoleon_stage value = 10 } }
                    remove_country_modifier = modifier_Legacy_of_the_Code_Napoléon9
                    add_country_modifier    = { name = modifier_Legacy_of_the_Code_Napoléon10 months = -1 }
                }
            }
        }
    }

    complete = {
        has_country_modifier = modifier_Legacy_of_the_Code_Napoléon10
    }
}

#---------------------------------------
# Declining Population (Great Britain)
#---------------------------------------
je_declining_population = {
    icon  = "gfx/interface/icons/law_icons/tenant_farmers.dds"
    group = je_group_britain

    is_shown_when_inactive = { tag = c:GBR }
    possible               = { tag = c:GBR }

    on_start = {
        # cleanup
        remove_country_modifier = modifier_Declining_Population1
        remove_country_modifier = modifier_Declining_Population2
        remove_country_modifier = modifier_Declining_Population3
        remove_country_modifier = modifier_Declining_Population4
        remove_country_modifier = modifier_Declining_Population5
        remove_country_modifier = modifier_Declining_Population6
        remove_country_modifier = modifier_Declining_Population7
        remove_country_modifier = modifier_Declining_Population8
        remove_country_modifier = modifier_Declining_Population9
        remove_country_modifier = modifier_Declining_Population10

        # stage 1
        add_country_modifier = { name = modifier_Declining_Population1 months = -1 }

        # counters
        set_variable = { name = decline_stage value = 1 }
        set_variable = { name = decline_years value = 0 }
    }

    on_yearly_pulse = {
        effect = {
            # count years
            change_variable = { name = decline_years add = 1 }

            # advance only every 10 years
            if = {
                limit = { check_variable = { name = decline_years value = 10 } }
                set_variable = { name = decline_years value = 0 }
                change_variable = { name = decline_stage add = 1 }

                if = {
                    limit = { check_variable = { name = decline_stage value = 2 } }
                    remove_country_modifier = modifier_Declining_Population1
                    add_country_modifier    = { name = modifier_Declining_Population2 months = -1 }
                }
                else_if = {
                    limit = { check_variable = { name = decline_stage value = 3 } }
                    remove_country_modifier = modifier_Declining_Population2
                    add_country_modifier    = { name = modifier_Declining_Population3 months = -1 }
                }
                else_if = {
                    limit = { check_variable = { name = decline_stage value = 4 } }
                    remove_country_modifier = modifier_Declining_Population3
                    add_country_modifier    = { name = modifier_Declining_Population4 months = -1 }
                }
                else_if = {
                    limit = { check_variable = { name = decline_stage value = 5 } }
                    remove_country_modifier = modifier_Declining_Population4
                    add_country_modifier    = { name = modifier_Declining_Population5 months = -1 }
                }
                else_if = {
                    limit = { check_variable = { name = decline_stage value = 6 } }
                    remove_country_modifier = modifier_Declining_Population5
                    add_country_modifier    = { name = modifier_Declining_Population6 months = -1 }
                }
                else_if = {
                    limit = { check_variable = { name = decline_stage value = 7 } }
                    remove_country_modifier = modifier_Declining_Population6
                    add_country_modifier    = { name = modifier_Declining_Population7 months = -1 }
                }
                else_if = {
                    limit = { check_variable = { name = decline_stage value = 8 } }
                    remove_country_modifier = modifier_Declining_Population7
                    add_country_modifier    = { name = modifier_Declining_Population8 months = -1 }
                }
                else_if = {
                    limit = { check_variable = { name = decline_stage value = 9 } }
                    remove_country_modifier = modifier_Declining_Population8
                    add_country_modifier    = { name = modifier_Declining_Population9 months = -1 }
                }
                else_if = {
                    limit = { check_variable = { name = decline_stage value = 10 } }
                    remove_country_modifier = modifier_Declining_Population9
                    add_country_modifier    = { name = modifier_Declining_Population10 months = -1 }
                }
            }
        }
    }

    complete = {
        has_country_modifier = modifier_Declining_Population10
    }
}
